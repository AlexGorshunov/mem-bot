## Telegram → Abacus LLM → Mem.ai бот

Бот:
- принимает **текст**, **голосовые**, **фото** и **PDF-документы** в Telegram;
- для текста вызывает **Abacus LLM** для развёртывания мысли;
- для PDF отправляет содержимое в **Abacus LLM** для перевода и объяснения сути;
- создаёт заметку в **Mem.ai**;
- теги ты можешь добавлять прямо в сообщение (например: `#project`, `#idea`), они просто попадут в текст заметки.

### Быстрый старт

1. Скопируй `.env`:
   ```bash
   cp .env.example .env
   ```
2. Заполни в `.env`:
   - `TELEGRAM_BOT_TOKEN`
   - `ABACUS_API_KEY`
   - (опционально) `ABACUS_MODEL`
   - `MEM_API_KEY`
3. Собери и запусти контейнер:
   ```bash
   docker compose up --build -d
   ```

Бот работает на **long polling**, отдельный публичный URL не нужен.

### Поведение

- **Текст**:
  - отправляется в Abacus LLM для развёртывания мысли;
  - результат сохраняется в Mem.ai как заметка;
  - теги можно указывать прямо в тексте сообщения (например: `#petproject`, `#ai`, `#arxiv`).
- **Голосовое**:
  - транскрибация выполняется через **Whisper** (локальная модель, модель "base" по умолчанию);
  - поддерживаются различные форматы аудио (OGG, MP3, WAV и др.);
  - после транскрибации текст сохраняется в Mem.ai как заметка;
  - теги можно проговаривать в голосовом сообщении или добавлять вручную в Mem.ai.
- **Фото**:
  - в Mem.ai сохраняется ссылка на файл Telegram + подпись (caption), если она есть;
  - LLM для фото не вызывается по твоему ТЗ.
- **PDF**:
  - бот принимает PDF-документ, извлекает из него текст;
  - отправляет текст в Abacus LLM для перевода и объяснения сути;
  - создаёт по результату структурированную заметку в Mem.ai;
  - любые теги, которые ты включишь в текст/описание, останутся в заметке.

### Теги

- **Список известных тегов**:
  - Команда `/tags` показывает все теги (встроенные и добавленные через бота) с описанием.
- **Добавление/обновление тега**:
  - Используй команду:
    ```text
    /addtag <имя_тега> <описание>
    ```
    Пример:
    ```text
    /addtag arxiv Статьи с arXiv по ML и ИИ
    ```
  - Имя можно указывать с `#` или без (`/addtag #ai ...` тоже ок).
  - Теги, добавленные через `/addtag`, сохраняются в `tags_store.json` и попадают в вывод `/tags`.

