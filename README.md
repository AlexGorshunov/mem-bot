## Telegram → Abacus LLM → Mem.ai бот

Бот:
- принимает **текст**, **голосовые**, **фото** и **PDF-документы** в Telegram;
- для текста вызывает **Abacus LLM** для развёртывания мысли;
- для PDF отправляет содержимое в **Abacus LLM** для перевода и объяснения сути;
- создаёт заметку в **Mem.ai**;
- после создания заметки спрашивает у тебя **теги** и дописывает их в конец страницы в Mem.

### Быстрый старт

1. Скопируй `.env`:
   ```bash
   cp .env.example .env
   ```
2. Заполни в `.env`:
   - `TELEGRAM_BOT_TOKEN`
   - `ABACUS_API_KEY`
   - (опционально) `ABACUS_MODEL`
   - `MEM_API_KEY`
3. Собери и запусти контейнер:
   ```bash
   docker compose up --build -d
   ```

Бот работает на **long polling**, отдельный публичный URL не нужен.

### Поведение

- **Текст**:
  - отправляется в Abacus LLM для развёртывания мысли;
  - результат сохраняется в Mem.ai как заметка;
  - бот просит в ответе указать теги (строкой, можно через запятую, пробелы, `#`).
- **Голосовое**:
  - сейчас реализован хук `transcribe_audio(...)`, который нужно привязать к любому STT (например, Whisper);
  - после транскрибации текст можно также прогнать через Abacus (или сразу в Mem) — это уже заложено в коде.
- **Фото**:
  - в Mem.ai сохраняется ссылка на файл Telegram + подпись (caption), если она есть;
  - LLM для фото не вызывается по твоему ТЗ.
- **PDF**:
  - бот принимает PDF-документ, извлекает из него текст;
  - отправляет текст в Abacus LLM для перевода и объяснения сути;
  - создаёт по результату структурированную заметку в Mem.ai;
  - далее просит прислать теги, как и для других типов сообщений.

Логика тегов:
- после каждого создания заметки бот запоминает `note_id` и исходный текст;
- следующее **текстовое** сообщение от этого пользователя трактуется как список тегов;
- теги парсятся, дописываются в конец заметки в виде строки `Теги: ...`, заметка в Mem.ai обновляется.

